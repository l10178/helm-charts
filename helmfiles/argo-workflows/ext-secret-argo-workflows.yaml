templates:
- |
  apiVersion: v1
  kind: ConfigMap
  metadata:
    # If you want to use this config map by default, name it "artifact-repositories". Otherwise, you can provide a reference to a
    # different config map in `artifactRepositoryRef.configMap`.
    name: artifact-repositories
    annotations:
      workflows.argoproj.io/default-artifact-repository: default-v1-s3-artifact-repository
  data:
    default-v1-s3-artifact-repository: |
      s3:
        bucket: argo-workflows
        endpoint: minio.minio.svc:9000
        insecure: true
        accessKeySecret:
          name: minio
          key: root-user
        secretKeySecret:
          name: minio
          key: root-password
